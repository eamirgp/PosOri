<div class="navbar-top">
    <div class="navbar-content">
        <div class="navbar-left">
            <h5 class="page-title mb-0">@GetPageTitle()</h5>
        </div>

        <div class="navbar-right">
            <div class="navbar-actions">
                <!-- Notificaciones -->
                <button class="btn btn-icon" title="Notificaciones">
                    <i class="bi bi-bell"></i>
                    <span class="badge-dot"></span>
                </button>

                <!-- Usuario -->
                <div class="dropdown">
                    <button class="btn btn-user dropdown-toggle" 
                            type="button" 
                            id="userDropdown" 
                            data-bs-toggle="dropdown" 
                            aria-expanded="false">
                        <div class="user-avatar">
                            <i class="bi bi-person-circle fs-4"></i>
                        </div>
                        <div class="user-info d-none d-md-block">
                            <span class="user-name">Admin Usuario</span>
                            <small class="user-role">Administrador</small>
                        </div>
                    </button>
                    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="userDropdown">
                        <li>
                            <a class="dropdown-item" href="/profile">
                                <i class="bi bi-person me-2"></i>
                                Mi Perfil
                            </a>
                        </li>
                        <li>
                            <a class="dropdown-item" href="/settings">
                                <i class="bi bi-gear me-2"></i>
                                Configuración
                            </a>
                        </li>
                        <li><hr class="dropdown-divider"></li>
                        <li>
                            <a class="dropdown-item text-danger" href="/logout">
                                <i class="bi bi-box-arrow-right me-2"></i>
                                Cerrar Sesión
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

@code {
    [Inject]
    private NavigationManager NavigationManager { get; set; } = default!;

    private string GetPageTitle()
    {
        var path = NavigationManager.ToBaseRelativePath(NavigationManager.Uri).Split('?')[0].ToLower();

        return path switch
        {
            "" or "/" => "Dashboard",
            "product" => "Productos",
            "category" => "Categorías",
            "inventory" => "Inventario",
            "purchase" => "Compras",
            "sale" => "Ventas",
            "supplier" => "Proveedores",
            "customer" => "Clientes",
            "warehouse" => "Almacenes",
            "settings" => "Configuración",
            "help" => "Ayuda",
            _ => "POS System"
        };
    }
}
